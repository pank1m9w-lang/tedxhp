---
const currentPath = Astro.url.pathname;

const navItems = [
  { href: '/', label: 'Home', icon: 'home' },
  { href: '/event', label: 'Event', icon: 'calendar' },
  { href: '/join', label: 'Join', icon: 'user-plus', highlight: true },
  { href: '/speakers', label: 'Speakers', icon: 'users' },
  { href: '/contact', label: 'Contact', icon: 'mail' },
];
---

<nav class="bottom-nav">
  {navItems.map(item => (
    <a
      href={item.href}
      class:list={['bottom-nav__item', { 'bottom-nav__item--highlight': item.highlight }]}
    >
      {item.icon === 'home' && (
        <svg class="bottom-nav__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
          <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
      )}
      {item.icon === 'calendar' && (
        <svg class="bottom-nav__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
      )}
      {item.icon === 'user-plus' && (
        <svg class="bottom-nav__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
          <circle cx="8.5" cy="7" r="4"></circle>
          <line x1="20" y1="8" x2="20" y2="14"></line>
          <line x1="23" y1="11" x2="17" y2="11"></line>
        </svg>
      )}
      {item.icon === 'users' && (
        <svg class="bottom-nav__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
          <circle cx="9" cy="7" r="4"></circle>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
        </svg>
      )}
      {item.icon === 'mail' && (
        <svg class="bottom-nav__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
          <polyline points="22,6 12,13 2,6"></polyline>
        </svg>
      )}
      <span class="bottom-nav__label">{item.label}</span>
    </a>
  ))}
</nav>

<style>
  .bottom-nav {
    display: none;
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: var(--tedx-white);
    box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    padding-bottom: env(safe-area-inset-bottom);
  }

  .bottom-nav__item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 8px 4px;
    text-decoration: none;
    color: var(--text-light);
    transition: var(--transition);
    flex: 1;
    min-width: 0;
  }

  .bottom-nav__item:active {
    background: var(--bg-light);
  }

  .bottom-nav__item--highlight {
    color: var(--tedx-red);
  }

  .bottom-nav__item--highlight .bottom-nav__icon {
    background: var(--tedx-red);
    color: var(--tedx-white);
    border-radius: 50%;
    padding: 8px;
    width: 32px;
    height: 32px;
  }

  .bottom-nav__icon {
    width: 24px;
    height: 24px;
    margin-bottom: 4px;
  }

  .bottom-nav__label {
    font-size: 0.7rem;
    font-weight: 500;
    text-align: center;
  }

  @media (max-width: 768px) {
    .bottom-nav {
      display: flex;
    }
  }
</style>
